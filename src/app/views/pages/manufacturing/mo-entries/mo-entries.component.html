<div class="row">
    <div class="col-xl-12">
        <div class="row row-full-height">
            <div class="col-xl-12">
                <kt-portlet> 
                    <kt-portlet-header title="Déclaration MO" [class]="'kt-portlet__head--lg'">
                    </kt-portlet-header>
                    <kt-portlet-body>






                        

                        <form class="kt-form" [formGroup]="moForm">
                        
                            <div class="row"> 

                                <div class="form-group col-12 row">
                                    <label class="col-2 control-label text-right">N° OF: *</label>
                                    <div class="input-group input-group-sm col-2">
                                        <input  class="form-control form-control-sm" type="text" [className]="moForm.controls['nof'].errors && (moForm.controls['nof'].dirty || moForm.controls['nof'].touched) ? 'form-control form-control-sm is-invalid' : 'form-control form-control-sm'" placeholder="N° OF"
                                        #nof formControlName="nof" required id="nof" >
                                        <div class="form-control-feedback" *ngIf="moForm.controls['nof'].errors && (moForm.controls['nof'].dirty || moForm.controls['nof'].touched)">
                                            
                                        </div>
                                        <div class="input-group-append">
                                            <span (click)="selectComment(content)" class="input-group-text">
                                                <i class="la la-search"></i>
                                            </span>
                                        </div>
                                        <div *ngIf="moForm.controls['nof'].errors.required" class="invalid-feedback">Le N° de l'OF est obligatoire</div>
                                    
                                    </div>
                                        
                                    
                                   
                                    <label class="col-4 control-label text-right">ID: *</label>
                                    <div class="input-group input-group-sm col-2">
                                        <input  class="form-control form-control-sm" type="text" [className]="moForm.controls['id'].errors && (moForm.controls['id'].dirty || moForm.controls['id'].touched) ? 'form-control form-control-sm is-invalid' : 'form-control form-control-sm'" placeholder="ID"
                                        #id formControlName="id" required id="id" >
                                        <div class="form-control-feedback" *ngIf="moForm.controls['id'].errors && (moForm.controls['id'].dirty || moForm.controls['id'].touched)">
                                            
                                        </div>
                                        <div class="input-group-append">
                                            <span (click)="selectComment(content)" class="input-group-text">
                                                <i class="la la-search"></i>
                                            </span>
                                        </div>
                                        <div *ngIf="moForm.controls['id'].errors.required" class="invalid-feedback">Le ID est obligatoire</div>
                                    
                                    </div>    
                                    
                                    



                                </div>

                                <div class="form-group col-12 row">    
                                    
                                    <label class="col-2 control-label text-right"> Opération: </label>
                                    <div class="col-2">
                                        <input  class="form-control form-control-sm" type="entier"   formControlName="op" placeholder = "10" >
                                    </div>

                                   
                                        
                                    <div class="col-2">   
                                        <input  class="form-control form-control-sm" type="text"  placeholder="" formControlName="description" disabled="disabled" >
                                    </div>
                                    <label class="col-2 control-label text-right"> Status OP: </label>
                                    <div class="col-2">
                                        <input  class="form-control form-control-sm" type="text"   formControlName="statusop" placeholder = "Status OP" >
                                    </div>


                                </div>
                                <div class="form-group col-12 row">    
                                    
                                    <label class="col-2 control-label text-right"> Employé: </label>
                                    <div class="col-2">
                                        <input  class="form-control form-control-sm" type="text"   formControlName="employe" placeholder = "Employé" >
                                    </div>

                                    <label class="col-1 control-label text-right">Départ: *</label>
                                    <div class="input-group input-group-sm col-2">
                                        <input  class="form-control form-control-sm" type="text" [className]="moForm.controls['depart'].errors && (moForm.controls['depart'].dirty || moForm.controls['depart'].touched) ? 'form-control form-control-sm is-invalid' : 'form-control form-control-sm'" placeholder="Département"
                                        #depart formControlName="depart" required id="depart" >
                                        <div class="form-control-feedback" *ngIf="moForm.controls['depart'].errors && (moForm.controls['depart'].dirty || moForm.controls['depart'].touched)">
                                            
                                        </div>
                                        <div class="input-group-append">
                                            <span (click)="selectComment(content)" class="input-group-text">
                                                <i class="la la-search"></i>
                                            </span>
                                        </div>
                                        <div *ngIf="moForm.controls['depart'].errors.required" class="invalid-feedback">Le Département est obligatoire</div>
                                    
                                    </div>    
                                    
                                        
                                    <label class="col-1 control-label text-right"> Equipe: </label>
                                    <div class="col-2">
                                        <input  class="form-control form-control-sm" type="text"   formControlName="equipe" placeholder = "Equipe" >
                                    </div>
                              


                                </div>
                                <div class="form-group col-12 row">
                                    
                                
                                    <label class="col-2 control-label text-right">Centre Charge: *</label>
                                    <div class="input-group input-group-sm col-2">
                                        <input  class="form-control form-control-sm" type="text" [className]="moForm.controls['workcenter'].errors && (moForm.controls['workcenter'].dirty || moForm.controls['workcenter'].touched) ? 'form-control form-control-sm is-invalid' : 'form-control form-control-sm'" placeholder="Centre de Charge"
                                        #workcenter formControlName="workcenter" required id="workcenter" >
                                        <div class="form-control-feedback" *ngIf="moForm.controls['workcenter'].errors && (moForm.controls['workcenter'].dirty || moForm.controls['workcenter'].touched)">
                                            
                                        </div>
                                        <div class="input-group-append">
                                            <span (click)="selectComment(content)" class="input-group-text">
                                                <i class="la la-search"></i>
                                            </span>
                                        </div>
                                        <div *ngIf="moForm.controls['workcenter'].errors.required" class="invalid-feedback">Le Centre de Charge est obligatoire</div>
                                    
                                    </div>
                                    
                                    
                                    

                                    <label class="col-4 control-label text-right">Machie: *</label>
                                    <div class="input-group input-group-sm col-2">
                                        <input  class="form-control form-control-sm" type="text" [className]="moForm.controls['machine'].errors && (moForm.controls['machine'].dirty || moForm.controls['machine'].touched) ? 'form-control form-control-sm is-invalid' : 'form-control form-control-sm'" placeholder="Département"
                                        #machine formControlName="machine" required id="machine" >
                                        <div class="form-control-feedback" *ngIf="moForm.controls['machine'].errors && (moForm.controls['machine'].dirty || moForm.controls['machine'].touched)">
                                            
                                        </div>
                                        <div class="input-group-append">
                                            <span (click)="selectComment(content)" class="input-group-text">
                                                <i class="la la-search"></i>
                                            </span>
                                        </div>
                                        <div *ngIf="moForm.controls['machine'].errors.required" class="invalid-feedback">La Machine est obligatoire</div>
                                    
                                    </div>    
                                    
                                    

                                </div>    

                               

                                <div class="form-group col-12 row">

                                    <label class="col-2 control-label text-right">Quantité Terminée: </label>
                                    <div class="col-2">   
                                        
                                        <input  class="form-control form-control-sm" type="number"  placeholder="0.00" formControlName="qtyfin"  >
                                    </div>
    
                                    <label class="col-4 control-label text-right">Date Validité: </label>
                                    <div class="col-2">
                                        <div class="input-group input-group-sm">
                                            <input class="form-control form-control-sm" placeholder="jj-mm-aaa" name="dp" [(ngModel)]="dateStruct" ngbDatepicker #d="ngbDatepicker" formControlName="dp">
                                            <div class="input-group-append">
                                                <button class="btn btn-primary btn-icon"  type="button">
                                                    <i class="la la-calendar"></i>
                                                </button>
                                            </div>
                                        </div>
                                            
                                    </div>
                                </div>

                                <div class="form-group col-12 row">
                                    
                                    <label class="col-2 control-label text-right"> Opération Fini: </label>
                                    <div class="col-lg-2">
                                        <span class="kt-switch kt-switch--outline kt-switch--icon ">
                                            <label>
                                                <input type="checkbox" name="opfin" formControlName="opfin" checked="checked">
                                                <span></span>
                                        </label>
                                        </span>
                                    </div>
                                    <label class="col-2 control-label text-right"> Passer Op Suivante: </label>
                                    <div class="col-lg-2">
                                        <span class="kt-switch kt-switch--outline kt-switch--icon ">
                                            <label>
                                                <input type="checkbox" name="opsuivante" formControlName="opsuivante">
                                                <span></span>
                                        </label>
                                        </span>
                                    </div>



                                </div>    
                                <div class="form-group col-12 row">
                                    <label class="col-2 control-label text-right"> Reprise: </label>
                                    <div class="col-lg-2">
                                        <span class="kt-switch kt-switch--outline kt-switch--icon ">
                                            <label>
                                                <input type="checkbox" name="reprise" formControlName="reprise">
                                                <span></span>
                                        </label>
                                        </span>
                                    </div>

                                    <label class="col-2 control-label text-right"> Opération Suivante Terminée: </label>
                                    <div class="col-lg-2">
                                        <span class="kt-switch kt-switch--outline kt-switch--icon ">
                                            <label>
                                                <input type="checkbox" checked="checked" name="opsuivfin" formControlName="opsuivfin" >
                                                <span></span>
                                        </label>
                                        </span>
                                    </div>

                                </div>    
                                
                                <div class="form-group col-12 row">

                                    <label class="col-2 control-label text-right">Début Réglage: </label>
                                    <div class="col-2">   
                                        
                                        <input  class="form-control form-control-sm" type="text"  placeholder="00:00:00" formControlName="debreg"  >
                                    </div>
                                    <label class="col-2 control-label text-right">Début Execution: </label>
                                    <div class="col-2">   
                                        
                                        <input  class="form-control form-control-sm" type="text"  placeholder="00:00:00" formControlName="debexec"  >
                                    </div>
                                </div>   
                                
                                <div class="form-group col-12 row">

                                    <label class="col-2 control-label text-right">Durée/Fin Réglage: </label>
                                    <div class="col-2">   
                                        
                                        <input  class="form-control form-control-sm" type="text"  placeholder="00:00:00" formControlName="durfinreg" disabled="disabled" >
                                    </div>
                                    <label class="col-2 control-label text-right">Durée Réglage: </label>
                                    <div class="col-2">   
                                        
                                        <input  class="form-control form-control-sm" type="number"  placeholder="0.00000" formControlName="durreg"  disabled="disabled" >
                                    </div>

                                </div>   

                                
                                <div class="form-group col-12 row">

                                    <label class="col-2 control-label text-right">Durée/Fin Execustion: </label>
                                    <div class="col-2">   
                                        
                                        <input  class="form-control form-control-sm" type="text"  placeholder="00:00:00" formControlName="durfinexec" disabled="disabled" >
                                    </div>
                                    <label class="col-2 control-label text-right">Durée Execution: </label>
                                    <div class="col-2">   
                                        
                                        <input  class="form-control form-control-sm" type="number"  placeholder="0.00000" formControlName="durrexec" disabled="disabled" >
                                    </div>

                                </div>   


                                <div class="form-group col-12 row">
                                   <div class="row col-lg-2">
                                        <label class="col-2 control-label text-right">  </label>
                                        <button  class="form-control form-control-sm btn btn btn-outline-secondary " (click)="selectCause(content)" >
                                            <i class="flaticon2-plus"></i> Rejet</button>
                                   </div> 
                                   <div class="row col-lg-2">                               
                                    <label class="col-2 control-label text-right">  </label>
                                                <button  class="form-control form-control-sm btn btn btn-outline-secondary " (click)="selectComment(content2)" >
                                                    <i class="flaticon2-plus"></i> Commentaire
                                                </button>
                                              
                                   </div>      
                                   <div class="row col-lg-2">                               
                                    <label class="col-2 control-label text-right">  </label>
                                                <button  class="form-control form-control-sm btn btn btn-outline-secondary " (click)="selectTemp(content3)" >
                                                    <i class="flaticon2-plus"></i> Temps Mort
                                                </button>
                                              
                                   </div>      
                                </div>


                                <div class="form-group row col-12"> 
                                    <div class="kt-login__actions">
                                        <button (click)="submit()" class="btn btn-success btn-sm mr-2">Ajouter</button>
                                    </div>
                                </div>    
                            </div>
                        </form>
                    </kt-portlet-body>
                </kt-portlet>
            </div>
        </div>
    </div>
</div>
 
<div class="kt-section__content">
    <ng-template #content let-c="close" let-d="dismiss">
        <div class="modal-header">
            <h4 class="modal-title">Rejets</h4>
            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
				<span aria-hidden="true">&times;</span>
			</button>
        </div>
        <div class="modal-body">
            <div class="row col-lg-12">
                <button class="btn btn-primary btn-elevate col-lg-4" (click)="addNewItem()">Ajouter une cause</button>
            </div>
            <br>
            <angular-slickgrid class="col-lg-12" gridId="moGrid" [columnDefinitions]="mocolumnDefinitions" [gridOptions]="mogridOptions" [dataset]="modataset" (onAngularGridCreated)="moGridReady($event)">
            </angular-slickgrid>

        </div>
        <div class="modal-footer">
            
            <button type="button" class="btn btn-secondary" (click)="c('Close click')">Fermer</button>
            
        </div>

    </ng-template>
</div>    
<div class="kt-section__content">
    <ng-template #content2 let-c="close" let-d="dismiss">
        <div class="modal-header">
            <h4 class="modal-title">Commentaire</h4>
            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
				<span aria-hidden="true">&times;</span>
			</button>
        </div>
        <div class="modal-body">
            <label for="exampleTextarea">Commentaire</label>
	<textarea class="form-control form-control-solid" rows="6"></textarea>



        </div>
        <div class="modal-footer">
            
            <button type="button" class="btn btn-secondary" (click)="c('Close click')">Fermer</button>
            
        </div>

    </ng-template>
</div>    


<div class="kt-section__content">
    <ng-template #content3 let-c="close" let-d="dismiss">
        <div class="modal-header">
            <h4 class="modal-title">Temps Mort</h4>
            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
				<span aria-hidden="true">&times;</span>
			</button>
        </div>
        <div class="modal-body">
            <div class="row col-lg-12">
                <button class="btn btn-primary btn-elevate col-lg-4" (click)="addNewTemp()">Ajouter un Temps Mort</button>
            </div>
            <br>
            <angular-slickgrid class="col-lg-12" gridId="tempGrid" [columnDefinitions]="tempcolumnDefinitions" [gridOptions]="tempgridOptions" [dataset]="tempdataset" (onAngularGridCreated)="tempGridReady($event)">
            </angular-slickgrid>

        </div>
        <div class="modal-footer">
            
            <button type="button" class="btn btn-secondary" (click)="c('Close click')">Fermer</button>
            
        </div>

    </ng-template>
</div>    